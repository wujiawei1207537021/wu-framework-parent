"use strict";(self.webpackChunklazy_ui=self.webpackChunklazy_ui||[]).push([[5657],{40171:function(e,t){t.Z={description:"文件管理",type:"1",icon:"UploadFilled",name:"文件管理"}},75657:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});n(70560),n(98858),n(61318),n(33228);var a=n(66252),r=n(2262),l=n(65781),o=n(40171);const i={style:{padding:"10px 0"}},u=(0,a._)("p",{style:{"margin-top":"10px","font-size":"14px",color:"#409eff"}}," 点击或拖拽文件至此即可上传文件 ",-1),d=(0,a._)("p",{style:{"margin-top":"20px","font-size":"14px",color:"red"}}," 请上传10GB以内的待测对象 ",-1),p={data:()=>({description:"[DOC]PDF合并",buttons:{search:{name:"查询"},add:{name:"添加"},edit:{name:"编辑"},del:{name:"删除"},preview:{name:"预览",toPath:!0},down:{name:"下载"}},type:"1",icon:"UploadFilled",name:"[DOC]PDF合并",parentMenu:o.Z})};var s=Object.assign(p,{__name:"DocPdfMerge",setup(e){const t={targetName:[{required:!0,message:"请输入文件名称",trigger:"blur"}],pdfList:[{required:!0,message:"请上传文件",trigger:"blur"}]},n=(0,r.iH)(null),o=(0,r.qj)({targetName:"",uid:"",pdfList:[],type:"",length:0}),{targetName:p,pdfList:s}=(0,r.BK)(o);(0,a.bv)((async()=>{console.log("1234")}));const c=e=>{var t=e.name,n=e.size;if(o.targetName=t,null!=n&&(o.length=(e=>{if(e<1024)return e+"B";if(e<1048576){let t=e/1024;return t=t.toFixed(2),t+"KB"}if(e<1073741824){let t=e/1048576;return t=t.toFixed(2),t+"MB"}{let t=e/1073741824;return t=t.toFixed(2),t+"GB"}})(n)),o.pdfList.push(e.raw),null!==t){var a=t.split(".");o.type=a[a.length-1]}},f=(e,t)=>{o.pdfList=t.map((e=>e.raw))};return(e,m)=>{const g=(0,a.up)("el-icon"),h=(0,a.up)("el-upload"),v=(0,a.up)("el-form-item"),y=(0,a.up)("el-input"),b=(0,a.up)("el-form"),w=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(b,{model:o,ref_key:"formRef",ref:n,rules:t,"label-width":"80px",inline:!1},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{label:"文件数据",prop:"pdfList"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{name:"pdfList",multiple:!0,"show-file-list":!0,"on-change":c,"on-remove":f,limit:"1000",modelValue:(0,r.SU)(s),"onUpdate:modelValue":m[0]||(m[0]=e=>(0,r.dq)(s)?s.value=e:null),placeholder:"",clearable:"","auto-upload":!1,accept:".pdf",class:"upload-demo",drag:""},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a.Wm)(g,{class:"el-icon--upload"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,r.SU)(l.UploadFilled))])),_:1}),u,d])])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(v,{label:"合并后文件名称",prop:"targetName"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:(0,r.SU)(p),"onUpdate:modelValue":m[1]||(m[1]=e=>(0,r.dq)(p)?p.value=e:null),placeholder:"合并后文件名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,a._)("span",null,[(0,a.Wm)(w,{type:"primary",onClick:m[2]||(m[2]=e=>{n.value.validate((async e=>{if(!e)return console.log("error submit!!"),!1;{let e=new FormData;o.pdfList.forEach((t=>{e.append("multipartFileList",t)})),e.append("targetName",o.targetName);let t=await VE_API.system.docPdfMerge(e,{responseType:"blob"}),n=t.headers["file-name"];n=decodeURIComponent(n);let a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.style.display="none",r.href=a,r.setAttribute("download",n),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(r.href)}}))})},{default:(0,a.w5)((()=>[(0,a.Uk)("合并文件并下载")])),_:1})])])}}})},50926:function(e,t,n){var a=n(23043),r=n(69985),l=n(6648),o=n(44201)("toStringTag"),i=Object,u="Arguments"===l(function(){return arguments}());e.exports=a?l:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=i(e),o))?n:u?l(t):"Object"===(a=l(t))&&r(t.callee)?"Arguments":a}},62148:function(e,t,n){var a=n(98702),r=n(72560);e.exports=function(e,t,n){return n.get&&a(n.get,t,{getter:!0}),n.set&&a(n.set,t,{setter:!0}),r.f(e,t,n)}},23043:function(e,t,n){var a={};a[n(44201)("toStringTag")]="z",e.exports="[object z]"===String(a)},34327:function(e,t,n){var a=n(50926),r=String;e.exports=function(e){if("Symbol"===a(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},21500:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},98858:function(e,t,n){var a=n(11880),r=n(68844),l=n(34327),o=n(21500),i=URLSearchParams,u=i.prototype,d=r(u.append),p=r(u.delete),s=r(u.forEach),c=r([].push),f=new i("a=1&a=2&b=3");f.delete("a",1),f.delete("b",void 0),f+""!="a=2"&&a(u,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return p(this,e);var a=[];s(this,(function(e,t){c(a,{key:t,value:e})})),o(t,1);for(var r,i=l(e),u=l(n),f=0,m=0,g=!1,h=a.length;f<h;)r=a[f++],g||r.key===i?(g=!0,p(this,r.key)):m++;for(;m<h;)(r=a[m++]).key===i&&r.value===u||d(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},61318:function(e,t,n){var a=n(11880),r=n(68844),l=n(34327),o=n(21500),i=URLSearchParams,u=i.prototype,d=r(u.getAll),p=r(u.has),s=new i("a=1");!s.has("a",2)&&s.has("a",void 0)||a(u,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return p(this,e);var a=d(this,e);o(t,1);for(var r=l(n),i=0;i<a.length;)if(a[i++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},33228:function(e,t,n){var a=n(67697),r=n(68844),l=n(62148),o=URLSearchParams.prototype,i=r(o.forEach);a&&!("size"in o)&&l(o,"size",{get:function(){var e=0;return i(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);