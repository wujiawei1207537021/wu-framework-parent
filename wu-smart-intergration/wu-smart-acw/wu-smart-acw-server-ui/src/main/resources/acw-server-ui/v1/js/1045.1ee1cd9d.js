"use strict";(self.webpackChunklazy_ui=self.webpackChunklazy_ui||[]).push([[1045],{51045:function(e,l,a){a.r(l),a.d(l,{default:function(){return o}});var u=a(66252),t=a(2262);var o={__name:"TaskEdit",props:{showDialog:{type:Boolean,default:!0},title:{type:String,default:"添加"},rowData:{type:Object,default:null}},emits:["closeDialog"],setup(e,{emit:l}){const a={taskName:[{required:!0,message:"请输入任务名",trigger:"blur"}],type:[{required:!0,message:"请输入任务类型",trigger:"blur"}],config:[{required:!0,message:"请添加配置",trigger:"blur"}]},o=e,d=l,{title:r,rowData:m}=(0,t.BK)(o),n=()=>{d("closeDialog",!1)},i=(0,t.iH)(null),s=(0,t.qj)({taskName:"",type:"",config:"",status:1}),{taskName:p,config:f,type:c,status:g}=(0,t.BK)(s);m.value&&(p.value=m.value.taskName,f.value=m.value.config,c.value=m.value.type,g.value=m.value.status);return(l,o)=>{const d=(0,u.up)("el-input"),w=(0,u.up)("el-form-item"),v=(0,u.up)("el-radio-button"),b=(0,u.up)("el-radio-group"),_=(0,u.up)("el-form"),y=(0,u.up)("el-button"),k=(0,u.up)("el-dialog");return(0,u.wg)(),(0,u.j4)(k,{title:(0,t.SU)(r),"append-to-body":"","destroy-on-close":"","model-value":e.showDialog,onClose:o[6]||(o[6]=e=>n())},{footer:(0,u.w5)((()=>[(0,u._)("span",null,[(0,u.Wm)(y,{onClick:o[4]||(o[4]=e=>n())},{default:(0,u.w5)((()=>[(0,u.Uk)("取消")])),_:1}),(0,u.Wm)(y,{type:"primary",onClick:o[5]||(o[5]=e=>{i.value.validate((async e=>{if(!e)return console.log("error submit!!"),!1;{let e;e="添加"===r.value?await VE_API.system.upsertAdd(s):await VE_API.system.upsertAdd({id:m.value.id,...s});const{code:l}=e;0===l&&n()}}))})},{default:(0,u.w5)((()=>[(0,u.Uk)("确定")])),_:1})])])),default:(0,u.w5)((()=>[(0,u.Wm)(_,{model:s,ref_key:"formRef",ref:i,rules:a,"label-width":"80px",inline:!1},{default:(0,u.w5)((()=>[(0,u.Wm)(w,{label:"任务名称",prop:"taskName"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:(0,t.SU)(p),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,t.dq)(p)?p.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,u.Wm)(w,{label:"类型",prop:"type"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:(0,t.SU)(c),"onUpdate:modelValue":o[1]||(o[1]=e=>(0,t.dq)(c)?c.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,u.Wm)(w,{label:"配置",prop:"config"},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{modelValue:(0,t.SU)(f),"onUpdate:modelValue":o[2]||(o[2]=e=>(0,t.dq)(f)?f.value=e:null),placeholder:"",clearable:""},null,8,["modelValue"])])),_:1}),(0,u.Wm)(w,{label:"状态"},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{modelValue:(0,t.SU)(g),"onUpdate:modelValue":o[3]||(o[3]=e=>(0,t.dq)(g)?g.value=e:null)},{default:(0,u.w5)((()=>[(0,u.Wm)(v,{label:1},{default:(0,u.w5)((()=>[(0,u.Uk)("启用")])),_:1}),(0,u.Wm)(v,{label:0},{default:(0,u.w5)((()=>[(0,u.Uk)("停用")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","model-value"])}}}}}]);